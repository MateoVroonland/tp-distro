# Sistema Distribuido de An√°lisis de Pel√≠culas

Este proyecto implementa un sistema distribuido para el an√°lisis de datos de pel√≠culas utilizando microservicios en Docker y RabbitMQ como sistema de mensajer√≠a.

## üìã Requisitos Previos

- Docker y Docker Compose instalados
- Python 3.x
- Bash shell

## üìÅ Estructura del Dataset

Antes de ejecutar el sistema, aseg√∫rate de tener los siguientes archivos CSV en el directorio `docs/`:

```
docs/
‚îú‚îÄ‚îÄ movies.csv      # Datos de pel√≠culas
‚îú‚îÄ‚îÄ ratings.csv     # Calificaciones de usuarios
‚îî‚îÄ‚îÄ credits.csv     # Cr√©ditos y cast de pel√≠culas
```

## üöÄ Scripts de Ejecuci√≥n

### 1. Configuraci√≥n Inicial

Antes de ejecutar el sistema, necesitas crear un archivo `.env` con las variables de configuraci√≥n:

```bash
# Ejemplo de archivo .env
MOVIES_RECEIVER_AMOUNT=2
CREDITS_RECEIVER_AMOUNT=2
RATINGS_RECEIVER_AMOUNT=2
Q1_FILTER_AMOUNT=2
Q3_FILTER_AMOUNT=2
Q4_FILTER_AMOUNT=2
CREDITS_JOINER_AMOUNT=2
RATINGS_JOINER_AMOUNT=2
BUDGET_REDUCER_AMOUNT=2
SENTIMENT_REDUCER_AMOUNT=2
BUDGET_SINK_AMOUNT=1
Q1_SINK_AMOUNT=1
CREDITS_SINK_AMOUNT=1
SENTIMENT_SINK_AMOUNT=1
SENTIMENT_WORKER_AMOUNT=2
CLIENTS_AMOUNT=3
RESUSCITATOR_AMOUNT=3
```

### 2. Scripts Disponibles

#### `compose-generate.sh`

Genera el archivo `docker-compose.yml` basado en las variables de entorno del archivo `.env`.

```bash
./compose-generate.sh
```

#### `compose-build.sh`

Construye todas las im√°genes Docker de los microservicios en paralelo.

```bash
./compose-build.sh
```

#### `compose-run.sh`

Ejecuta el sistema completo usando Docker Compose.

```bash
./compose-run.sh
```

**Funcionalidad:**

- Detiene y limpia contenedores previos (`docker compose down -v`)
- Inicia todos los servicios (`docker compose up`)

#### `compose-build-and-run.sh`

Combina la construcci√≥n y ejecuci√≥n en un solo comando.

```bash
./compose-build-and-run.sh
```

**Equivale a:**

```bash
./compose-build.sh
./compose-run.sh
```

#### `absolute-chaos.sh`

Script de prueba que simula fallos masivos en el sistema.

```bash
./absolute-chaos.sh
```
